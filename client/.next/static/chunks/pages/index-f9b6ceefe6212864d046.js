(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{7656:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return N}});var r=t(5893),a=t(7294),i=t(8788),o=t(4309),l=t(849),u=t(5382),s=t(8237),d=t(2209),c=t(9163),h=t(3626);function f(){var n=(0,d.Z)(["\n  &&& {\n    margin-bottom: 20px;\n    width: 100%;\n  }\n"]);return f=function(){return n},n}var v=(0,c.ZP)(h.Z)(f()),p={searchLabel:"Search keyword",loadMoreButtonLabel:"Load more",searchFilterLabel:"Search for:"},x=t(416);function m(){var n=(0,d.Z)(["\n    &&& {\n      width: 100%;\n      margin: 20px 0;\n    }\n"]);return m=function(){return n},n}var Z=(0,c.ZP)(x.Z)(m()),j=function(n){var e=n.onChange,t=n.currentValue,i=(0,a.useState)(t),o=i[0],l=i[1];return(0,r.jsx)("div",{children:(0,r.jsx)(Z,{name:"searchBar",type:"text",onChange:function(n){var r=n.target.value;l(r),t.length>=3||r.length>=3?e(r):e("")},"data-testid":"searchBar",placeholder:p.searchLabel,value:o})})},b=t(809),g=t.n(b),w=t(8571),_=t(266),C=t(6872),k=t(3231);function E(){var n=(0,d.Z)(["\n  query details($offset: Int, $limit: Int, $search: String) {\n    details(offset: $offset, limit: $limit, search: $search) {\n      name\n      address\n      avatar\n      description\n    }\n  }\n"]);return E=function(){return n},n}var L=(0,t(5851).Ps)(E()),M=function(){var n=function(){var n=(0,k.t)(L),e=(0,C.Z)(n,2),t=e[0],r=e[1],i=r.data,o=r.loading,l=r.fetchMore,u=(0,a.useState)([]),s=u[0],d=u[1],c=(0,a.useState)(""),h=c[0],f=c[1],v=(0,a.useState)(!1),p=v[0],x=v[1];return(0,a.useEffect)((function(){d((null===i||void 0===i?void 0:i.details)||[]),(null===i||void 0===i?void 0:i.details.length)<20?x(!1):x(!0)}),[i]),(0,a.useEffect)((function(){t({variables:{offset:0,limit:20,search:h}})}),[h]),{detailsArray:s,shouldFetchMore:p,fetchMoreData:function(){var n=(0,_.Z)(g().mark((function n(){var e,t;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l({variables:{limit:20,search:h,offset:s.length}});case 2:e=n.sent,(null===(t=e.data)||void 0===t?void 0:t.details.length)<20?x(!1):x(!0),d([].concat((0,w.Z)(s),(0,w.Z)(t.details)));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),loading:o,inputValue:h,setInputValue:f}}(),e=n.detailsArray,t=n.shouldFetchMore,d=n.fetchMoreData,c=n.loading,h=n.inputValue,f=n.setInputValue;return(0,r.jsxs)("div",{children:[(0,r.jsx)(j,{onChange:f,currentValue:h}),""!==h&&(0,r.jsx)(i.Z,{children:(0,r.jsxs)("p",{children:[p.searchFilterLabel," ",h]})}),(0,r.jsx)(o.Z,{children:(0,r.jsxs)(o.Z.Row,{children:[c&&(0,r.jsx)(o.Z.Column,{mobile:16,tablet:16,computer:16,children:(0,r.jsx)(l.Z,{})}),!e.length&&!c&&(0,r.jsx)(o.Z.Column,{mobile:16,tablet:16,computer:16,children:(0,r.jsx)(i.Z,{children:(0,r.jsx)("p",{children:"No data available"})})}),null===e||void 0===e?void 0:e.map((function(n,e){return(0,r.jsx)(o.Z.Column,{mobile:16,tablet:8,computer:4,"data-testid":"cardContainer",children:(0,r.jsx)(v,{image:null===n||void 0===n?void 0:n.avatar,header:null===n||void 0===n?void 0:n.name,meta:"Friend",description:null===n||void 0===n?void 0:n.description,extra:(0,r.jsxs)("div",{children:[(0,r.jsx)(u.Z,{name:"address book"}),null===n||void 0===n?void 0:n.address]})})},"".concat(null===n||void 0===n?void 0:n.name,"-").concat(e))}))]})}),t&&(0,r.jsx)(s.Z,{"data-testid":"loadButton",onClick:d,children:p.loadMoreButtonLabel})]})};function S(){var n=(0,d.Z)(["\n    width: 100%;\n    max-width: 1300px;\n    margin: 20px auto;\n    padding: 0 10px\n"]);return S=function(){return n},n}var y=c.ZP.div(S()),N=function(){return(0,r.jsx)(y,{children:(0,r.jsx)(M,{})})}},5301:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(7656)}])}},function(n){n.O(0,[774,18,888,179],(function(){return e=5301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);